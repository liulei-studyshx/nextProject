(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[263],{1158:(e,t,a)=>{Promise.resolve().then(a.bind(a,8908))},8908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var i=a(5155),n=a(2115),o=a(337),l=a(9758),d=a(1938);function s(){(0,n.useEffect)(()=>{e()},[]);let e=async()=>{let{scene:e,camera:t,renderer:i,controls:n,directionalLight:s}=await Promise.all([a.e(367),a.e(451),a.e(866)]).then(a.bind(a,7866)),h=new o.zD7,c=null,r=null,w=null,f,p=0,m=[],g={idle:{weight:1},walk:{weight:0},run:{weight:0}},u={sneak_pose:{weight:0},sad_pose:{weight:0},agree:{weight:0},headShake:{weight:0}};t.position.set(-1,2,3),n.enablePan=!1,n.enableZoom=!1,n.target.set(0,1,0),n.update(),e.background=new o.Q1f(0xa0a0a0),e.fog=new o.jUj(0xa0a0a0,10,50);let b=new o.dth(0xffffff,9276813,3);b.position.set(0,20,0),e.add(b),s.position.set(3,10,10),s.castShadow=!0,s.shadow.camera.top=2,s.shadow.camera.bottom=-2,s.shadow.camera.left=-2,s.shadow.camera.right=2,s.shadow.camera.near=.1,s.shadow.camera.far=40,e.add(s);let v=new o.eaF(new o.bdM(100,100),new o.tXL({color:0xcbcbcb,depthWrite:!1}));function _(e){var t;let a=e.getClip();t=(g[a.name]||u[a.name]).weight,e.enabled=!0,e.setEffectiveWeight(t),e.setEffectiveTimeScale(1),e.play()}v.rotation.x=-Math.PI/2,v.receiveShadow=!0,e.add(v),new l.B().load("/model/Xbot.glb",t=>{c=t.scene,e.add(c),c.traverse(function(e){e.isMesh&&(e.castShadow=!0)}),(w=new o._xc(c)).visible=!1,e.add(w);let a=t.animations;f=new o.Iw4(c),p=a.length;for(let e=0;e<p;e++){let t=a[e],i=t.name;if(g[i]){let e=f.clipAction(t);_(e),g[i].action=e,m.push(e)}else if(u[i]){o.AKb.makeClipAdditive(t),t.name.endsWith("_pose")&&(t=o.AKb.subclip(t,t.name,2,3,30));let e=f.clipAction(t);_(e),u[i].action=e,m.push(e)}}}),r=new d.A,document.body.appendChild(r.dom);let k=()=>{requestAnimationFrame(k),r.update();for(let e=0;e!==p;++e){let t=m[e],a=t.getClip();(g[a.name]||u[a.name]).weight=t.getEffectiveWeight()}let a=h.getDelta();f&&f.update(a),i.render(e,t)};i.setAnimationLoop(k)};return(0,i.jsx)("div",{id:"three-contain",style:{width:"100%",height:"calc(100vh - 46px)"}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[831,99,441,517,358],()=>t(1158)),_N_E=e.O()}]);