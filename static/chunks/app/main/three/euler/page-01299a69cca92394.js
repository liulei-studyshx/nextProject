(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{7908:(e,t,n)=>{Promise.resolve().then(n.bind(n,9082))},9082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5155),i=n(2115),r=n(663),l=n(337);n(1214);var s=n(7711);n(6392),n(1068);let o=(0,s.default)(()=>n.e(936).then(n.bind(n,4936)),{loadableGenerated:{webpack:()=>[4936]},ssr:!1}),d=(0,s.default)(()=>n.e(759).then(n.bind(n,8759)),{loadableGenerated:{webpack:()=>[8759]},ssr:!1});function c(){let[e,t]=(0,i.useState)(""),[s,c]=(0,i.useState)("50%"),[u,w]=(0,i.useState)(!0),h=(0,i.useRef)(null),p=(0,i.useRef)(),m=(0,i.useRef)();(0,i.useEffect)(()=>(f(),v(),window.addEventListener("mouseup",y),m.current=setInterval(()=>{if(e)return},6e4),()=>{window.removeEventListener("mouseup",y),m.current&&(clearInterval(m.current),m.current=null)}),[]);let v=async()=>{let e=await fetch("http://localhost:3000/api/article/getArticle?id=1");t((await e.json())[0].content)},f=async()=>{let{scene:e,camera:t,renderer:a,textLoader:i,resizeRenderer:r}=await Promise.all([n.e(367),n.e(451),n.e(866)]).then(n.bind(n,7866));p.current=r,t.position.set(20,0,0),t.lookAt(0,0,0),e.background=new l.Q1f(9211020);let s=new l.IzY(100);e.add(s);let o=new l.iNn(10,10,10),d=[new l.V9B({map:await i("/image/one.jpeg")}),new l.V9B({map:await i("/image/three.jpeg")}),new l.V9B({map:await i("/image/five.jpeg")}),new l.V9B({map:await i("/image/six.jpeg")}),new l.V9B({map:await i("/image/four.jpeg")}),new l.V9B({map:await i("/image/two.jpeg")})],c=new l.eaF(o,d);e.add(c);let u=new l.O9p(0,0,0);c.rotation.copy(u);let w=()=>{a.render(e,t),window.requestAnimationFrame(w)};w()},g=async()=>{await fetch("http://localhost:3000/api/article/updateArticle",{method:"POST",body:e})},y=e=>{var t;if(!h.current)return;let{clientX:n}=e;c(n),null===(t=p.current)||void 0===t||t.call(p,n),h.current=!1};return(0,a.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",overflow:"hidden"},children:[(0,a.jsx)("div",{id:"three-contain",style:{width:s,height:"calc(100vh - 46px)"}}),(0,a.jsx)("div",{className:"move_line",onMouseDown:()=>{h.current=!0},onMouseMove:()=>{if(!h.current)return}}),(0,a.jsxs)("div",{style:{flex:1},children:[u&&(0,a.jsx)(r.Ay,{type:"primary",style:{position:"absolute",zIndex:100,right:10,bottom:10},onClick:g,children:"保存"}),(0,a.jsx)(r.Ay,{type:"primary",style:{position:"absolute",zIndex:100,right:90,bottom:10},onClick:()=>{var e;w(!u),c(u?"100%":"50%"),null===(e=p.current)||void 0===e||e.call(p,u?window.innerWidth:window.innerWidth/2)},children:u?"收起":"展开"}),u&&(0,a.jsx)(o,{value:e,style:{height:"calc(100vh - 46px)",width:"100%"},renderHTML:e=>(0,a.jsx)(d,{children:e}),onChange:e=>{let{text:n}=e;t(n)}})]})]})}},1068:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[431,829,831,701,921,441,517,358],()=>t(7908)),_N_E=e.O()}]);